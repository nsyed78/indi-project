<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Aptos Display";}
@font-face
	{font-family:Aptos;}
@font-face
	{font-family:"Yu Gothic Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"\@Yu Gothic Light";}
@font-face
	{font-family:"\@Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:.25in;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:20.0pt;
	font-family:"Aptos Display",sans-serif;
	color:#0F4761;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:8.0pt;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Aptos Display",sans-serif;
	color:#0F4761;
	font-weight:normal;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:8.0pt;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Aptos",sans-serif;
	color:#0F4761;
	font-weight:normal;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:4.0pt;
	margin-right:0in;
	margin-bottom:2.0pt;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;
	color:#0F4761;
	font-weight:normal;
	font-style:italic;}
h5
	{mso-style-link:"Heading 5 Char";
	margin-top:4.0pt;
	margin-right:0in;
	margin-bottom:2.0pt;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;
	color:#0F4761;
	font-weight:normal;}
h6
	{mso-style-link:"Heading 6 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;
	color:#595959;
	font-weight:normal;
	font-style:italic;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-link:"Heading 7 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;
	color:#595959;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-link:"Heading 8 Char";
	margin:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;
	color:#272727;
	font-style:italic;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-link:"Heading 9 Char";
	margin:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;
	color:#272727;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:11.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:22.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Header Char";
	margin:0in;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Footer Char";
	margin:0in;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:0in;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-link:"Title Char";
	margin:0in;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-link:"Title Char";
	margin:0in;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-link:"Title Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:0in;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	letter-spacing:-.5pt;}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{mso-style-link:"Subtitle Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:14.0pt;
	font-family:"Aptos",sans-serif;
	color:#595959;
	letter-spacing:.75pt;}
a:link, span.MsoHyperlink
	{color:#467886;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#96607D;
	text-decoration:underline;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;}
p.MsoQuote, li.MsoQuote, div.MsoQuote
	{mso-style-link:"Quote Char";
	margin-top:8.0pt;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	text-align:center;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;
	color:#404040;
	font-style:italic;}
p.MsoIntenseQuote, li.MsoIntenseQuote, div.MsoIntenseQuote
	{mso-style-link:"Intense Quote Char";
	margin-top:.25in;
	margin-right:.6in;
	margin-bottom:.25in;
	margin-left:.6in;
	text-align:center;
	line-height:107%;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Aptos",sans-serif;
	color:#0F4761;
	font-style:italic;}
span.MsoIntenseEmphasis
	{color:#0F4761;
	font-style:italic;}
span.MsoIntenseReference
	{font-variant:small-caps;
	color:#0F4761;
	letter-spacing:.25pt;
	font-weight:bold;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Aptos Display",sans-serif;
	color:#0F4761;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Aptos Display",sans-serif;
	color:#0F4761;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Aptos Display",sans-serif;
	color:#0F4761;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Yu Gothic Light",sans-serif;
	color:#0F4761;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Yu Gothic Light",sans-serif;
	color:#0F4761;
	font-style:italic;}
span.Heading5Char
	{mso-style-name:"Heading 5 Char";
	mso-style-link:"Heading 5";
	font-family:"Yu Gothic Light",sans-serif;
	color:#0F4761;}
span.Heading6Char
	{mso-style-name:"Heading 6 Char";
	mso-style-link:"Heading 6";
	font-family:"Yu Gothic Light",sans-serif;
	color:#595959;
	font-style:italic;}
span.Heading7Char
	{mso-style-name:"Heading 7 Char";
	mso-style-link:"Heading 7";
	font-family:"Yu Gothic Light",sans-serif;
	color:#595959;}
span.Heading8Char
	{mso-style-name:"Heading 8 Char";
	mso-style-link:"Heading 8";
	font-family:"Yu Gothic Light",sans-serif;
	color:#272727;
	font-style:italic;}
span.Heading9Char
	{mso-style-name:"Heading 9 Char";
	mso-style-link:"Heading 9";
	font-family:"Yu Gothic Light",sans-serif;
	color:#272727;}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Aptos Display",sans-serif;
	letter-spacing:-.5pt;}
span.SubtitleChar
	{mso-style-name:"Subtitle Char";
	mso-style-link:Subtitle;
	font-family:"Yu Gothic Light",sans-serif;
	color:#595959;
	letter-spacing:.75pt;}
span.QuoteChar
	{mso-style-name:"Quote Char";
	mso-style-link:Quote;
	color:#404040;
	font-style:italic;}
span.IntenseQuoteChar
	{mso-style-name:"Intense Quote Char";
	mso-style-link:"Intense Quote";
	color:#0F4761;
	font-style:italic;}
p.Style1, li.Style1, div.Style1
	{mso-style-name:Style1;
	mso-style-link:"Style1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	color:#E97132;}
p.Style1CxSpFirst, li.Style1CxSpFirst, div.Style1CxSpFirst
	{mso-style-name:Style1CxSpFirst;
	mso-style-link:"Style1 Char";
	margin:0in;
	line-height:107%;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	color:#E97132;}
p.Style1CxSpMiddle, li.Style1CxSpMiddle, div.Style1CxSpMiddle
	{mso-style-name:Style1CxSpMiddle;
	mso-style-link:"Style1 Char";
	margin:0in;
	line-height:107%;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	color:#E97132;}
p.Style1CxSpLast, li.Style1CxSpLast, div.Style1CxSpLast
	{mso-style-name:Style1CxSpLast;
	mso-style-link:"Style1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	color:#E97132;}
span.Style1Char
	{mso-style-name:"Style1 Char";
	mso-style-link:Style1;
	font-family:"Aptos Display",sans-serif;
	color:#E97132;}
span.HeaderChar
	{mso-style-name:"Header Char";
	mso-style-link:Header;}
span.FooterChar
	{mso-style-name:"Footer Char";
	mso-style-link:Footer;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
 /* Page Definitions */
 @page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link="#467886" vlink="#96607D" style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoTitle><span class=MsoIntenseReference><span style='color:#E97132'>&nbsp;</span></span></p>

<p class=MsoTocHeading>Table of Contents</p>

<p class=MsoToc1><a href="#_Toc162477358"><b>PROJECT OVERVIEW</b><span
style='color:windowtext;display:none;text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>2</span></a></p>

<p class=MsoToc2><a href="#_Toc162477359">Goals and Objectives:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>2</span></a></p>

<p class=MsoToc1><a href="#_Toc162477360"><b>Hardware<span style='font-variant:
small-caps'> and Software used</span></b><span style='color:windowtext;
display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>2</span></a></p>

<p class=MsoToc2><a href="#_Toc162477361">Hardware:<span style='color:windowtext;
display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>2</span></a></p>

<p class=MsoToc2><a href="#_Toc162477362">Software, Libraries, and Protocols:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>2</span></a></p>

<p class=MsoToc1><a href="#_Toc162477363"><b><span style='font-variant:small-caps'>System
architecture &amp; Setup</span></b><span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>3</span></a></p>

<p class=MsoToc2><a href="#_Toc162477364">1. Measuring Light Intensity (Lux):<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>3</span></a></p>

<p class=MsoToc2><a href="#_Toc162477365">2. Measuring Temperature and
Pressure:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>5</span></a></p>

<p class=MsoToc2><a href="#_Toc162477366">3. Controlling PWM LED intensity:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>7</span></a></p>

<p class=MsoToc2><a href="#_Toc162477367">4. Changing the Lux value based on
input from push down buttons:<span style='color:windowtext;display:none;
text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>9</span></a></p>

<p class=MsoToc2><a href="#_Toc162477368">5. Controlling the stepper motor
based on temperature:<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>12</span></a></p>

<p class=MsoToc3><a href="#_Toc162477369">a.BMP280 connection:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>12</span></a></p>

<p class=MsoToc3><a href="#_Toc162477370">b.Adding ULN2003:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>13</span></a></p>

<p class=MsoToc3><a href="#_Toc162477371">c.Adding Stepper Motor:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>14</span></a></p>

<p class=MsoToc2><a href="#_Toc162477372">6. Adding Nokia 5110 LCD:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>16</span></a></p>

<p class=MsoToc2><a href="#_Toc162477373">7. Using MQTT for ThingSpeak:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>18</span></a></p>

<p class=MsoToc1><a href="#_Toc162477374"><b>APPENDICES</b><span
style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>20</span></a></p>

<p class=MsoToc3><a href="#_Toc162477375">Project Code:
https://github.com/nsyed78/indi-project<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>20</span></a></p>

<p class=MsoToc3><a href="#_Toc162477376">Youtube Video:<span style='color:
windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>20</span></a></p>

<p class=MsoToc1><a href="#_Toc162477377"><b>SELF EVALUATION</b><span
style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>21</span></a></p>

<p class=MsoToc2><span class=MsoIntenseReference><u><span style='font-variant:
normal !important;color:#467886;letter-spacing:0pt;font-weight:normal'><span
 style='text-decoration:none'>&nbsp;</span></span></u></span></p>

<p class=MsoTitleCxSpFirst><span class=MsoIntenseReference><span
style='color:#E97132'>&nbsp;</span></span></p>

<p class=MsoTitleCxSpMiddle><span class=MsoIntenseReference><span
style='color:#E97132'>&nbsp;</span></span></p>

<p class=MsoTitleCxSpLast><span class=MsoIntenseReference><span
style='color:#E97132'>&nbsp;</span></span></p>

<h1><a name="_Hlk162386315"></a><a name="_Toc162477358"><b><span
style='font-size:26.0pt;line-height:107%;color:#E97132'>PROJECT OVERVIEW</span></b></a></h1>

<h2><a name="_Toc162477359">Goals and Objectives:</a></h2>

<p class=MsoNormal>Use sensors to determine the temperature, light intensity,
and pressure and based on that imitates a process. Send the values to an online
dashboard for visualization and analysis.</p>

<p class=MsoNormal>For instance, if the temperature is above 25�C the stepper
motor rotates imitating a fan, similarly if the lux value is below 50 the LED
lights on the bread board light up.</p>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc162477360"><b><span style='font-size:26.0pt;line-height:107%;
color:#E97132'>Hardware<span style='font-variant:small-caps'> and Software used</span></span></b></a></h1>

<h2><a name="_Toc162477361">Hardware:</a></h2>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>OrangePi 3 LTS</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>BH1750</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>BMP280</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Stepper Motor</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>ULN2003 Stepper Motor Controller</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>PWM LED</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Nokia 5110 LCD</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>220-ohm Resistors</p>

<h2><a name="_Toc162477362">Software, Libraries, and Protocols:</a></h2>

<p class=MsoNormal><b>Software: </b>We are using ThingSpeak as an online
dashboard to visualize the data. By utilizing the MQTT we can push the data to ThingSpeak
Channels.</p>

<p class=MsoNormal><b>Libraries: </b>The language used to program the orangePi
is python and we are using a few python libraries and protocols to communicate
between the sensors and the device.</p>

<p class=MsoNormal>We are using the following libraries from python:</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>SMBus for i2c for connecting our sensors</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>BMP280 Library</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Paho for MQTT communications</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>WiringPi for GPIO </p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Spidev for Nokia LCD</p>

<p class=MsoNormal><span class=MsoIntenseReference><span style='font-variant:
normal !important;color:windowtext;letter-spacing:0pt;font-weight:normal'>These
are all the libraries that we are using for this whole project;</span></span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>import</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>time</span></u></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>import</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>datetime</span></u></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>from</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>smbus2</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>import</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>SMBus</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>i2c_msg</span></u></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>from</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>bmp280</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>import</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>BMP280</span></u></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>import</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>paho</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>.</span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>mqtt</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>.</span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>client</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>as</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>mqtt</span></u></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>import</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>wiringpi</span></u></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>import</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>spidev</span></u></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>from</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>class_LCD</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>import</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>LCD</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>ActivateLCD</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>,</span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>DeactivateLCD</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>import</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>sys</span></u></p>

<p class=MsoNormal><span class=MsoIntenseReference><span style='font-variant:
normal !important;color:windowtext;letter-spacing:0pt;font-weight:normal'>&nbsp;</span></span></p>

<h1><a name="_Toc162477363"><b><span style='font-size:26.0pt;line-height:107%;
font-variant:small-caps;color:#E97132'>System architecture &amp; Setup</span></b></a></h1>

<h2><a name="_Toc162477364">1. Measuring Light Intensity (Lux):</a></h2>

<p class=MsoNormal>We are using <b>BH1750 sensor</b> for measuring the lux
value. The connection utilizes a breadboard.</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:15.0pt'>
  <td width=158 valign=top style='width:118.5pt;border:solid black 1.0pt;
  background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>OPI Pins</span></p>
  </td>
  <td width=158 valign=top style='width:118.5pt;border:solid black 1.0pt;
  border-left:none;background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>GPIO</span></p>
  </td>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-left:none;background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>Sensor</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=158 valign=top style='width:118.5pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>1</p>
  </td>
  <td width=158 valign=top style='width:118.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>3.3V </p>
  </td>
  <td width=135 valign=top style='width:101.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>VCC</p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=158 valign=top style='width:118.5pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>6</p>
  </td>
  <td width=158 valign=top style='width:118.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>GND</p>
  </td>
  <td width=135 valign=top style='width:101.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>GND</p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=158 valign=top style='width:118.5pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>3</p>
  </td>
  <td width=158 valign=top style='width:118.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>SCK</p>
  </td>
  <td width=135 valign=top style='width:101.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>SCL</p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=158 valign=top style='width:118.5pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>4</p>
  </td>
  <td width=158 valign=top style='width:118.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>SDA</p>
  </td>
  <td width=135 valign=top style='width:101.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>SDA</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal><img width=618 height=508 id="Picture 24538331"
src="Project%20Overview_files/image001.jpg"></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>CODE:</b></p>

<p class=MsoNormal>To initialize the sensor</p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'>#
================== BH1750 SENSOR ===========</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>address_bh170 </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>0x</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>23</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>bus.</span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>write_byte</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(address_bh170, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>0x</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>10</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>bytes_read </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>bytearray</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>2</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'>#============= Get
value from the BH1750 </span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><i><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>def</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>get_value</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>bus</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>address</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; write
</span><span style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>i2c_msg</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>.</span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>write</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>address</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, [</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>0x</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>10</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>])</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; read </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>i2c_msg</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>.</span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>read</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>address</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>2</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>bus</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>.i2c_rdwr(write,
read)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; bytes_read
</span><span style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>list</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(read)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Corrected formula
to calculate lux</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>return</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> (bytes_read[</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>0</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>] </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>&lt;&lt;</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>8</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>|</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> bytes_read[</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>1</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>]) </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>/</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>1.2</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>while</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>True</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;color:#384887'>#
Measure temperature and pressure from BMP280</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; lux </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>=</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>get_value</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>(bus, address_bh170)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>���� �print(lux)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal><b>&nbsp;</b></p>

<p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>

<h2><a name="_Toc162477365">2. Measuring Temperature and Pressure:</a></h2>

<p class=MsoNormal>We are using <b>BMP280 sensor</b> for measuring the
temperature and pressure. We are using Jumpers to connect the sensor with the
same pins used for BH1750 sensor.</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:15.0pt'>
  <td width=158 valign=top style='width:118.5pt;border:solid black 1.0pt;
  background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>OPI Pins</span></p>
  </td>
  <td width=158 valign=top style='width:118.5pt;border:solid black 1.0pt;
  border-left:none;background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>GPIO</span></p>
  </td>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-left:none;background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>Sensor</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=158 valign=top style='width:118.5pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>1</p>
  </td>
  <td width=158 valign=top style='width:118.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>3.3V </p>
  </td>
  <td width=135 valign=top style='width:101.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>VIN</p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=158 valign=top style='width:118.5pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>6</p>
  </td>
  <td width=158 valign=top style='width:118.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>GND</p>
  </td>
  <td width=135 valign=top style='width:101.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>GND</p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=158 valign=top style='width:118.5pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>3</p>
  </td>
  <td width=158 valign=top style='width:118.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>SCK</p>
  </td>
  <td width=135 valign=top style='width:101.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>SCK</p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=158 valign=top style='width:118.5pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>4</p>
  </td>
  <td width=158 valign=top style='width:118.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>SDA</p>
  </td>
  <td width=135 valign=top style='width:101.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>SDI</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal><img width=631 height=590 id="Picture 1072776454"
src="Project%20Overview_files/image002.jpg"></p>

<p class=MsoNormal><b>CODE:</b></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Create an I2C bus
object</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>bus </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>SMBus</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>0</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>address </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>0x</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>76</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Setup BMP280</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>bmp280 </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>BMP280</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>i2c_addr</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> address, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>i2c_dev</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>bus)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>interval </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>1</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Sample period in
seconds</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>while</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>True</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Measure data</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
bmp280_temperature </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>=</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> bmp280.</span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>get_temperature</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'>()</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
bmp280_pressure </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>=</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> bmp280.</span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>get_pressure</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'>()</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>print</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>&quot;Temperature: </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>%4.1f</span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>, Pressure: </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>%4.1f</span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>&quot;</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>%</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>
(bmp280_temperature, bmp280_pressure))</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc162477366">3. Controlling PWM LED intensity:</a></h2>

<p class=MsoNormal>By integrating the PWM LED with the BH1750 we are creating
an imitation where we adjust the intensity of PWM LED based on how much lux
value the sensor reads.</p>

<p class=MsoNormal>The code adjusts the intensity as follows:</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>If the lux value is below 50 the LED lights up to 100%</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>If the lux value is between 100 � 200 the LED lights up by only
30%</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span
style='font-family:Symbol'>�<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>If the lux is above 200 the LED goes to 0%<br>
<br>
</p>

<p class=MsoNormal style='margin-left:.25in'>We are using inverted logic as we
are using voltage and the GPIO inputs only on the LED and that is changing the
way it lights up.</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:21.7pt'>
  <td width=120 valign=top style='width:89.75pt;border:solid black 1.0pt;
  background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>OPI Pins</span></p>
  </td>
  <td width=114 valign=top style='width:85.5pt;border:solid black 1.0pt;
  border-left:none;background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>GPIO</span></p>
  </td>
  <td width=327 valign=top style='width:245.2pt;border:solid black 1.0pt;
  border-left:none;background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>LED</span></p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=120 valign=top style='width:89.75pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>1</p>
  </td>
  <td width=114 valign=top style='width:85.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>3.3V </p>
  </td>
  <td width=327 valign=top style='width:245.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>Positive side
  with a 220 Ohm Resistor</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=120 valign=top style='width:89.75pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>21</p>
  </td>
  <td width=114 valign=top style='width:85.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>w12</p>
  </td>
  <td width=327 valign=top style='width:245.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>Using 2 LEDs
  from the same GPIO</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><img width=610 height=502 id="Picture 801040849"
src="Project%20Overview_files/image003.jpg" alt="A circuit board with wires"></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'>#========== SETUP
FOR DIMMING LIGHT BASED ON LUX</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># We are using a
single input to light up two LEDs</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>luxPins </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>12</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>current_brightness </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>100</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>wiringpi</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>.</span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>softPwmCreate</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(luxPins, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>0</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>100</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>wiringpi</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>.</span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>softPwmWrite</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(luxPins, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>100</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Change brightness
automatically based on the lux value</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><i><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>def</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>calculate_brightness</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>lux</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>if</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>lux</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>is</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>None</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>return</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>100</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> &nbsp;</span><span style='font-size:12.0pt;font-family:Consolas;
color:#384887'># Default to off (inverted logic) if there's a reading error</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>elif</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>lux</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>&lt;</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>50</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>return</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>0</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> &nbsp; &nbsp;</span><span style='font-size:12.0pt;font-family:
Consolas;color:#384887'># Full brightness (inverted logic)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>elif</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>100</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>&lt;=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>lux</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>&lt;=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>200</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>return</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>70</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#384887'># Medium brightness (inverted logic)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>elif</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>lux</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>&gt;</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>200</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>return</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>100</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> &nbsp;</span><span style='font-size:12.0pt;font-family:Consolas;
color:#384887'># LED off (inverted logic)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>else</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>return</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>100</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> &nbsp;</span><span style='font-size:12.0pt;font-family:Consolas;
color:#384887'># Ensure function returns an integer for unexpected lux values</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># PWM</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><i><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>def</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>controlLEDs</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>sig1</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>target_brightness</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>current_brightness</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>step</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>1</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>wait</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>0.01</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>if</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>target_brightness</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>&lt;</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>current_brightness</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>for</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> brightness </span><span style='font-size:12.0pt;font-family:
Consolas;color:#225588'>in</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'> </span><u><span style='font-size:12.0pt;font-family:
Consolas;color:#FFEEBB'>range</span></u><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>(</span><i><span style='font-size:12.0pt;
font-family:Consolas;color:#2277FF'>current_brightness</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>target_brightness</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>-</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>1</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>-</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>step</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; </span><u><span style='font-size:12.0pt;font-family:
Consolas;color:#FFEEBB'>wiringpi</span></u><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>.</span><span style='font-size:12.0pt;
font-family:Consolas;color:#DDBB88'>softPwmWrite</span><span style='font-size:
12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span style='font-size:
12.0pt;font-family:Consolas;color:#2277FF'>sig1</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, brightness)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; </span><u><span style='font-size:12.0pt;font-family:
Consolas;color:#FFEEBB'>time</span></u><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>.</span><span style='font-size:12.0pt;
font-family:Consolas;color:#DDBB88'>sleep</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>(</span><i><span style='font-size:12.0pt;
font-family:Consolas;color:#2277FF'>wait</span></i><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>elif</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>target_brightness</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>&gt;</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>current_brightness</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>for</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> brightness </span><span style='font-size:12.0pt;font-family:
Consolas;color:#225588'>in</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'> </span><u><span style='font-size:12.0pt;font-family:
Consolas;color:#FFEEBB'>range</span></u><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>(</span><i><span style='font-size:12.0pt;
font-family:Consolas;color:#2277FF'>current_brightness</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>target_brightness</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>+</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>1</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>step</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; </span><u><span style='font-size:12.0pt;font-family:
Consolas;color:#FFEEBB'>wiringpi</span></u><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>.</span><span style='font-size:12.0pt;
font-family:Consolas;color:#DDBB88'>softPwmWrite</span><span style='font-size:
12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span style='font-size:
12.0pt;font-family:Consolas;color:#2277FF'>sig1</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, brightness)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; </span><u><span style='font-size:12.0pt;font-family:
Consolas;color:#FFEEBB'>time</span></u><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>.</span><span style='font-size:12.0pt;
font-family:Consolas;color:#DDBB88'>sleep</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>(</span><i><span style='font-size:12.0pt;
font-family:Consolas;color:#2277FF'>wait</span></i><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>We are using the following code in the while loop to change
the brightness of the LED</p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Change Brightness
based on Lux</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; target_brightness </span><span style='font-size:12.0pt;
font-family:Consolas;color:#225588'>=</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'> </span><span style='font-size:12.0pt;
font-family:Consolas;color:#DDBB88'>calculate_brightness</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(lux)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>controlLEDs</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'>(luxPins, target_brightness, current_brightness, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>step</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>5</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>) &nbsp;</span><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Adjust step size
as needed</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; current_brightness </span><span style='font-size:12.0pt;
font-family:Consolas;color:#225588'>=</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'> target_brightness</span></p>

<p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>

<p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>

<h2><a name="_Toc162477367">4. Changing the Lux value based on input from push
down buttons:</a></h2>

<p class=MsoNormal>We are using two push down buttons to change the initial lux
value that the sensor reads by 50. We are only using ground wire and GPIO
inputs on the buttons for this. One side is connected to the ground wire and
the other is connected to GPIO inputs for controlling the function of the buttons.</p>

<p class=MsoNormal>&nbsp;</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:21.7pt'>
  <td width=120 valign=top style='width:89.75pt;border:solid black 1.0pt;
  background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>OPI Pins</span></p>
  </td>
  <td width=114 valign=top style='width:85.5pt;border:solid black 1.0pt;
  border-left:none;background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>GPIO</span></p>
  </td>
  <td width=327 valign=top style='width:245.2pt;border:solid black 1.0pt;
  border-left:none;background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>LED</span></p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=120 valign=top style='width:89.75pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>24</p>
  </td>
  <td width=114 valign=top style='width:85.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>W15 </p>
  </td>
  <td width=327 valign=top style='width:245.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>Positive side
  with a 220 Ohm Resistor</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=120 valign=top style='width:89.75pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>26</p>
  </td>
  <td width=114 valign=top style='width:85.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>W16</p>
  </td>
  <td width=327 valign=top style='width:245.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>Using 2 LEDs
  from the same GPIO</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=120 valign=top style='width:89.75pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>6</p>
  </td>
  <td width=114 valign=top style='width:85.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>GND</p>
  </td>
  <td width=327 valign=top style='width:245.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>Using jumpers
  to use the same GND we are using for the sensors</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><img width=604 height=536 id="Picture 954154220"
src="Project%20Overview_files/image004.jpg"></p>

<h2>&nbsp;</h2>

<p class=MsoNormal><b>CODE: </b></p>

<p class=MsoNormal>The following code is used to setup and change the values
for the temperature and the pressure once pressed. </p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># These buttons
would change the lux and temperature value when pressed</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><i><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>def</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>setup</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>button</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
wiringpi.wiringPiSetup() &nbsp;</span><span style='font-size:12.0pt;font-family:
Consolas;color:#384887'># Initialize wiringPi setup</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
wiringpi.pinMode(button, wiringpi.</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>INPUT</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>) &nbsp;</span><span style='font-size:12.0pt;
font-family:Consolas;color:#384887'># Set pin to input mode</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
wiringpi.pullUpDnControl(button, wiringpi.</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>PUD_UP</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>) &nbsp;</span><span style='font-size:12.0pt;
font-family:Consolas;color:#384887'># Enable pull-up resistor</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Buttons for
changing lux</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>pushBtns </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> [</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>16</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>15</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>]</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>for</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> button </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>in</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> pushBtns:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
setup(button)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># ================
FUNCTIONS TO CHANGE THE VALUES FOR LUX AND TEMPERATURE</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#384887'># Change
lux values</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><i><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>def</span></i><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>changeLux</span><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>l</span></i><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>btn</span></i><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;
&nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;color:#225588'>for</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> index, button </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>in</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>enumerate</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(btn):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>if</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> wiringpi.digitalRead(button) </span><span style='font-size:
12.0pt;font-family:Consolas;color:#225588'>==</span><span style='font-size:
12.0pt;font-family:Consolas;color:#6688CC'> wiringpi.</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>LOW</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:
Consolas;color:#225588'>if</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'> index </span><span style='font-size:12.0pt;font-family:
Consolas;color:#225588'>==</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>0</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; l </span><span style='font-size:12.0pt;
font-family:Consolas;color:#225588'>+=</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'> </span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>50</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:
Consolas;color:#225588'>elif</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'> index </span><span style='font-size:12.0pt;font-family:
Consolas;color:#225588'>==</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>1</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; l </span><span style='font-size:12.0pt;
font-family:Consolas;color:#225588'>-=</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'> </span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>50</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:
Consolas;color:#9966B8'>print</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'>(</span><i><span style='font-size:12.0pt;font-family:
Consolas;color:#9966B8'>f</span></i><span style='font-size:12.0pt;font-family:
Consolas;color:#22AA44'>&quot;Button </span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>{</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>index </span><span style='font-size:12.0pt;
font-family:Consolas;color:#225588'>+</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'> </span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>1}</span><span style='font-size:12.0pt;
font-family:Consolas;color:#22AA44'> Pressed! Adjusted Light Level: </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>{</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>l</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>}</span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'> lux&quot;</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; time.sleep(</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>0.1</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>) &nbsp;</span><span style='font-size:12.0pt;
font-family:Consolas;color:#384887'># Simple debounce</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>return</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> l</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Change
temperature values</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><i><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>def</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>changeTemp</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>l</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>btn</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>for</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> index, button </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>in</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>enumerate</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(btn):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>if</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> wiringpi.digitalRead(button) </span><span style='font-size:
12.0pt;font-family:Consolas;color:#225588'>==</span><span style='font-size:
12.0pt;font-family:Consolas;color:#6688CC'> wiringpi.</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>LOW</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:
Consolas;color:#225588'>if</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'> index </span><span style='font-size:12.0pt;font-family:
Consolas;color:#225588'>==</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>0</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; l </span><span style='font-size:12.0pt;
font-family:Consolas;color:#225588'>+=</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'> </span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>1.5</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:
Consolas;color:#225588'>elif</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'> index </span><span style='font-size:12.0pt;font-family:
Consolas;color:#225588'>==</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>1</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; l </span><span style='font-size:12.0pt;
font-family:Consolas;color:#225588'>-=</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'> </span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>1.5</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:
Consolas;color:#9966B8'>print</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'>(</span><i><span style='font-size:12.0pt;font-family:
Consolas;color:#9966B8'>f</span></i><span style='font-size:12.0pt;font-family:
Consolas;color:#22AA44'>&quot;Button </span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>{</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>index </span><span style='font-size:12.0pt;
font-family:Consolas;color:#225588'>+</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'> </span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>1}</span><span style='font-size:12.0pt;
font-family:Consolas;color:#22AA44'> Pressed! Adjusted Temp Value: </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>{</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>l</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>}</span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'> lux&quot;</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; time.sleep(</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>0.1</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>) &nbsp;</span><span style='font-size:12.0pt;
font-family:Consolas;color:#384887'># Simple debounce</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>return</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> l</span></p>

<p class=MsoNormal>In the final loop we reassign the values for the lux and the
temperature via these functions and the code is as follows</p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#384887'># Adjust lux based on button press</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; lux </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>=</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>changeLux</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>(lux, pushBtns) &nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; temperature </span><span style='font-size:12.0pt;font-family:
Consolas;color:#225588'>=</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>changeTemp</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>(temperature, pushBtns) &nbsp;</span></p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc162477368">5. Controlling the stepper motor based on
temperature:</a></h2>

<p class=MsoNormal>By using the BMP280, ULN2003 Stepper Motor Controller and
Stepper Motor we are trying to imitate a fan that would spin based on the
temperature reading from the sensor.</p>

<p class=MsoNormal>The function is as follows. </p>

<p class=MsoNormal>If the temperature is above 25�C the motor starts spinning,
or else the motor stops spinning.</p>

<h3><a name="_Toc162477369">a.BMP280 connection:</a></h3>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:21.75pt'>
  <td width=190 valign=top style='width:142.5pt;border:solid black 1.0pt;
  background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:21.75pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>OPI Pins</span></p>
  </td>
  <td width=141 valign=top style='width:105.5pt;border:solid black 1.0pt;
  border-left:none;background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:21.75pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>GPIO</span></p>
  </td>
  <td width=230 valign=top style='width:172.45pt;border:solid black 1.0pt;
  border-left:none;background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:21.75pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>Sensor</span></p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=190 valign=top style='width:142.5pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>1</p>
  </td>
  <td width=141 valign=top style='width:105.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>3.3V </p>
  </td>
  <td width=230 valign=top style='width:172.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>VIN</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=190 valign=top style='width:142.5pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>6</p>
  </td>
  <td width=141 valign=top style='width:105.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>GND</p>
  </td>
  <td width=230 valign=top style='width:172.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>GND</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=190 valign=top style='width:142.5pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>3</p>
  </td>
  <td width=141 valign=top style='width:105.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>SCK</p>
  </td>
  <td width=230 valign=top style='width:172.45pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>SCK</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal align=center style='text-align:center'><img width=553
height=529 id="Picture 1756589306" src="Project%20Overview_files/image005.jpg"></p>

<h4><a name="_Toc162477370"><span class=Heading3Char><span style='font-size:
14.0pt;line-height:107%;font-family:"Aptos",sans-serif;font-style:normal'>b.Adding
ULN2003:</span></span></a><br>
<br>
</h4>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>OPI Pins</span></p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border:solid black 1.0pt;
  border-left:none;background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>GPIO</span></p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border:solid black 1.0pt;
  border-left:none;background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'><span
  style='color:black'>ULN2003</span></p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>2 </p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>5V</p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>On the positive
  side of the board</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>9</p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>GND</p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>On the negative
  side of the board</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>7</p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>w2</p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>IN1</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>13</p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>w7</p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>IN2</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>10</p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>w4</p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>IN3</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>11</p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>w5</p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'>IN4</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><img width=621 height=488 id="Picture 1922288290"
src="Project%20Overview_files/image006.jpg"></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc162477371">c.Adding Stepper Motor:</a></h3>

<p class=MsoNormal>By using the ULN2003 we are connecting the stepper motor.</p>

<p class=MsoNormal><img width=650 height=429 id="Picture 1756990671"
src="Project%20Overview_files/image007.jpg"></p>

<p class=MsoNormal><b>CODE:</b></p>

<p class=MsoNormal>We are using the following code to run the stepper motor. We
initialize the pins and define the step function. The rotate_stepper functions
define the sequence to rotate the motor</p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># ==============
GPIOs STEPPER MOTOR ==========</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>pins </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> [</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>2</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>7</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>4</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>5</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>] &nbsp;</span><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Define GPIO pins
connected to stepper motor coils</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Setup stepper
motor</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><i><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>def</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>setupStepperMotor</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>pins</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>wiringpi</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>.</span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>wiringPiSetup</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>()</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>for</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> pin </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>in</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>pins</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><u><span style='font-size:12.0pt;font-family:Consolas;
color:#FFEEBB'>wiringpi</span></u><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'>.</span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>pinMode</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>(pin, </span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>1</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>) &nbsp;</span><span style='font-size:12.0pt;font-family:Consolas;
color:#384887'># Set pin to output mode</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Step function</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><i><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>def</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>step</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>pins</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>sequence</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>delay</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>for</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> coil </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>in</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>sequence</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>for</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> pin </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>in</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><u><span style='font-size:12.0pt;font-family:Consolas;
color:#FFEEBB'>range</span></u><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>(</span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>4</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>): &nbsp;</span><span style='font-size:12.0pt;font-family:Consolas;
color:#384887'># Assuming a 4-pin stepper motor</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; </span><u><span style='font-size:12.0pt;font-family:
Consolas;color:#FFEEBB'>wiringpi</span></u><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>.</span><span style='font-size:12.0pt;
font-family:Consolas;color:#DDBB88'>digitalWrite</span><span style='font-size:
12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span style='font-size:
12.0pt;font-family:Consolas;color:#2277FF'>pins</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>[pin], coil[pin])</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><u><span style='font-size:12.0pt;font-family:Consolas;
color:#FFEEBB'>time</span></u><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>.</span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>sleep</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>(</span><i><span style='font-size:12.0pt;font-family:Consolas;
color:#2277FF'>delay</span></i><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Main function to
rotate the stepper motor</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><i><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>def</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>rotate_stepper</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>pins</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>steps</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>delay</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Define the step
sequence for full stepping</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
sequence </span><span style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> [[</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>1</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>,</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>0</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>,</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>0</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>,</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>0</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>],</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>0</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>,</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>1</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>,</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>0</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>,</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>0</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>],</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>0</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>,</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>0</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>,</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>1</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>,</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>0</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>],</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>0</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>,</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>0</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>,</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>0</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>,</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>1</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>]]</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>for</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> _ </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>in</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>range</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>steps</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>for</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> coil_state </span><span style='font-size:12.0pt;font-family:
Consolas;color:#225588'>in</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'> sequence:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:
Consolas;color:#DDBB88'>step</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'>(</span><i><span style='font-size:12.0pt;font-family:
Consolas;color:#2277FF'>pins</span></i><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>, [coil_state], </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>delay</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Reset the pins to
low</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>for</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> pin </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>in</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>pins</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><u><span style='font-size:12.0pt;font-family:Consolas;
color:#FFEEBB'>wiringpi</span></u><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'>.</span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>digitalWrite</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'>(pin, </span><span style='font-size:12.0pt;font-family:
Consolas;color:#F280D0'>0</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>)</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In the final loop we define the temperature threshold and
simply run the rotate_stepper function.</p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>if</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> temperature </span><span style='font-size:12.0pt;font-family:
Consolas;color:#225588'>&gt;</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>24</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:
Consolas;color:#DDBB88'>rotate_stepper</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>(pins, </span><i><span style='font-size:
12.0pt;font-family:Consolas;color:#2277FF'>steps</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>256</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>delay</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>0.01</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal><br>
<br>
</p>

<h2><a name="_Toc162477372">6. Adding Nokia 5110 LCD:</a></h2>

<p class=MsoNormal>As a last step to enhance the project we are using a Nokia
5110 LCD to display the values on the screen for better readability.</p>

<p class=MsoNormal>By using Spidev we are able to communicate with the LCD via
our orangepi.</p>

<p class=MsoNormal>The connections to the LCD are as follows:</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>OPI Pins#</span></p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border:solid black 1.0pt;
  border-left:none;background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='color:black'>GPIO</span></p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border:solid black 1.0pt;
  border-left:none;background:#E97132;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'><span
  style='color:black'>LCD Pin#</span></p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>18</p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>w10</p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>RST</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>22</p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>w13</p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>CE</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>16</p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>w9</p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>D/C</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>19</p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>MOSI/w11</p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>DIN</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>23</p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>SCLK</p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>CLK</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>1</p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>VCC 3.3V</p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>VCC</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>12</p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>w6</p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>LIGHT</p>
  </td>
 </tr>
 <tr style='height:21.7pt'>
  <td width=135 valign=top style='width:101.25pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>6</p>
  </td>
  <td width=122 valign=top style='width:91.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>GND</p>
  </td>
  <td width=304 valign=top style='width:227.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:21.7pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:107%'>GND</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><img width=635 height=425 id="Picture 1709957322"
src="Project%20Overview_files/image008.jpg"></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>CODE: </b></p>

<p class=MsoNormal>We define the GPIO pins and initialize the LCD. </p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>PINS</span><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> {</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;
&nbsp; </span><span lang=FR style='font-size:12.0pt;font-family:Consolas;
color:#22AA44'>'RST'</span><span lang=FR style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'> : </span><span lang=FR style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>10</span><span lang=FR style='font-size:
12.0pt;font-family:Consolas;color:#6688CC'>,</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;
&nbsp; </span><span lang=FR style='font-size:12.0pt;font-family:Consolas;
color:#22AA44'>'CS'</span><span lang=FR style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'> : </span><span lang=FR style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>13</span><span lang=FR style='font-size:
12.0pt;font-family:Consolas;color:#6688CC'>, </span><span lang=FR
style='font-size:12.0pt;font-family:Consolas;color:#384887'># CE</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;
&nbsp; </span><span lang=FR style='font-size:12.0pt;font-family:Consolas;
color:#22AA44'>'DC'</span><span lang=FR style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'> : </span><span lang=FR style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>9</span><span lang=FR style='font-size:
12.0pt;font-family:Consolas;color:#6688CC'>, </span><span lang=FR
style='font-size:12.0pt;font-family:Consolas;color:#384887'># D/C</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
lang=FR style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;
&nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>'DIN'</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> : </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>11</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>,</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>'SCLK'</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> : </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>14</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># CLK</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>'LED'</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> : </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>6</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># LIGHT</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>}</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>wiringpi</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>.</span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>wiringPiSetup</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>()</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>wiringpi</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>.</span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>wiringPiSPISetupMode</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>1</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>0</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>400000</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>0</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>) </span><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># (channel, port,
speed, mode)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>wiringpi</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>.</span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>pinMode</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>PINS</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>[</span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>'CS'</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>] , </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>1</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>) </span><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># set pin to mode 1
(output)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>ActivateLCD</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>PINS</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>[</span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>'CS'</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>])</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>lcd_1 </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>LCD</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>PINS</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In the final loop we have the following code to print on the
screen</p>

<p class=MsoNormal style='margin-bottom:0in;text-indent:.5in;line-height:16.5pt;
background:#000C18'><span style='font-size:12.0pt;font-family:Consolas;
color:#384887'>�� # LCD setup</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>ActivateLCD</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'>(</span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>PINS</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>[</span><span style='font-size:12.0pt;font-family:Consolas;
color:#22AA44'>'CS'</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>])</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; lcd_1.</span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>clear</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>() </span><span style='font-size:12.0pt;font-family:Consolas;
color:#384887'># clear buffer</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; lcd_1.</span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>go_to_xy</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>(</span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>0</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>, </span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>10</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>) </span><span style='font-size:12.0pt;font-family:Consolas;
color:#384887'># starting position</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; lcd_1.</span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>put_string</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>(</span><i><span style='font-size:12.0pt;font-family:Consolas;
color:#9966B8'>f</span></i><span style='font-size:12.0pt;font-family:Consolas;
color:#22AA44'>'Lux:</span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>{</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>lux</span><i><span style='font-size:12.0pt;font-family:Consolas;
color:#9966B8'>:.2f</span></i><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>}</span><span style='font-size:12.0pt;font-family:Consolas;
color:#22AA44'>'</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>) </span><span style='font-size:12.0pt;font-family:Consolas;
color:#384887'># print to buffer</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; lcd_1.</span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>put_string</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>(</span><i><span style='font-size:12.0pt;font-family:Consolas;
color:#9966B8'>f</span></i><span style='font-size:12.0pt;font-family:Consolas;
color:#22AA44'>'</span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>\n</span><span style='font-size:12.0pt;font-family:Consolas;
color:#22AA44'>'</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; lcd_1.</span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>put_string</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>(</span><i><span style='font-size:12.0pt;font-family:Consolas;
color:#9966B8'>f</span></i><span style='font-size:12.0pt;font-family:Consolas;
color:#22AA44'>'Temp:</span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>{</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>temperature</span><i><span style='font-size:12.0pt;font-family:
Consolas;color:#9966B8'>:.2f</span></i><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>}</span><span style='font-size:12.0pt;
font-family:Consolas;color:#22AA44'>'</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>) </span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#384887'># print to buffer</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; lcd_1.</span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>refresh</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>() </span><span style='font-size:12.0pt;font-family:Consolas;
color:#384887'># update the LCD with the buffer</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>DeactivateLCD</span><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'>(</span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>PINS</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>[</span><span style='font-size:12.0pt;font-family:Consolas;
color:#22AA44'>'CS'</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>])</span></p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc162477373">7. Using MQTT for ThingSpeak:</a></h2>

<p class=MsoNormal>By using the MQTT we are able to send the data from the
sensors to an online dashboard that is ThingSpeak.</p>

<p class=MsoNormal><img width=624 height=369 id="Picture 1"
src="Project%20Overview_files/image009.png"
alt="A screenshot of a computer&#10;&#10;Description automatically generated"></p>

<p class=MsoNormal>The code is as follows:</p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># MQTT settings</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>MQTT_HOST</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>&quot;mqtt3.thingspeak.com&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>MQTT_PORT</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>1883</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>MQTT_KEEPALIVE_INTERVAL</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>60</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>MQTT_TOPIC</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>&quot;channels/2484833/publish&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>MQTT_CLIENT_ID</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>&quot;FQkPGzofGCkOLAYWNi89Oi0&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>MQTT_USER</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>&quot;FQkPGzofGCkOLAYWNi89Oi0&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>MQTT_PWD</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>&quot;6DEoGgDNIci62NMCQ6ckfoUP&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># MQTT error
handling</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><i><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>def</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>on_connect</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>client</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>userdata</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>flags</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>rc</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>if</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>rc</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>==</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>0</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>print</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>(</span><span style='font-size:12.0pt;font-family:Consolas;
color:#22AA44'>&quot;Connected OK with result code &quot;</span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>+</span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>str</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>rc</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>))</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>else</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#DDBB88'>print</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>(</span><span style='font-size:12.0pt;font-family:Consolas;
color:#22AA44'>&quot;Bad connection with result code &quot;</span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>+</span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>str</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>rc</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>))</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><i><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>def</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>on_disconnect</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>client</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>userdata</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>flags</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>rc</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>0</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>print</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>&quot;Disconnected
result code &quot;</span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>+</span><u><span style='font-size:12.0pt;font-family:Consolas;
color:#FFEEBB'>str</span></u><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>(</span><i><span style='font-size:12.0pt;font-family:Consolas;
color:#2277FF'>rc</span></i><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>))</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><i><span
style='font-size:12.0pt;font-family:Consolas;color:#9966B8'>def</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>on_message</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>client</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>,</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>userdata</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>,</span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>msg</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>):</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp; </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>print</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>&quot;Received a
message on topic: &quot;</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>+</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><i><span style='font-size:12.0pt;font-family:Consolas;
color:#2277FF'>msg</span></i><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>.topic </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>+</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#22AA44'>&quot;; message: &quot;</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'> </span><span style='font-size:12.0pt;
font-family:Consolas;color:#225588'>+</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'> </span><i><span style='font-size:12.0pt;
font-family:Consolas;color:#2277FF'>msg</span></i><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>.payload)</span></p>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:16.5pt;background:
#000C18'><span style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Set up a MQTT
Client</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>client </span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>mqtt</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>.</span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>Client</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>mqtt</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>.</span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>CallbackAPIVersion</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>.</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>VERSION1</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>MQTT_CLIENT_ID</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>client.</span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>username_pw_set</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>MQTT_USER</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>MQTT_PWD</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'># Connect callback
handlers to client</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>client.on_connect</span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>on_connect</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>client.on_disconnect</span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>on_disconnect</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>client.on_message</span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'> </span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>on_message</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>print</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>&quot;Attempting to
connect to </span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>%s</span><span style='font-size:12.0pt;font-family:Consolas;
color:#22AA44'>&quot;</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>%</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>MQTT_HOST</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>client.</span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>connect</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>MQTT_HOST</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>MQTT_PORT</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>client.</span><span
style='font-size:12.0pt;font-family:Consolas;color:#DDBB88'>loop_start</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>() </span><span
style='font-size:12.0pt;font-family:Consolas;color:#384887'>#start the loop</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In the final loop we are pushing the payload to the ThingSpeak</p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#384887'># === MQTT DATA SEND</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#F280D0'>MQTT_DATA</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>=</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><span style='font-size:12.0pt;font-family:Consolas;
color:#22AA44'>&quot;field1=&quot;</span><span style='font-size:12.0pt;
font-family:Consolas;color:#225588'>+</span><u><span style='font-size:12.0pt;
font-family:Consolas;color:#FFEEBB'>str</span></u><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>(lux)</span><span style='font-size:12.0pt;
font-family:Consolas;color:#225588'>+</span><span style='font-size:12.0pt;
font-family:Consolas;color:#22AA44'>&quot;&amp;field2=&quot;</span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>+</span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>str</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(temperature)</span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>+</span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>&quot;&amp;field3=&quot;</span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>+</span><u><span
style='font-size:12.0pt;font-family:Consolas;color:#FFEEBB'>str</span></u><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>(pressure)</span><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>+</span><span
style='font-size:12.0pt;font-family:Consolas;color:#22AA44'>&quot;&amp;status=MQTTPUBLISH&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>try</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; client.</span><span style='font-size:12.0pt;
font-family:Consolas;color:#DDBB88'>publish</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>(</span><i><span style='font-size:12.0pt;
font-family:Consolas;color:#2277FF'>topic</span></i><span style='font-size:
12.0pt;font-family:Consolas;color:#225588'>=</span><span style='font-size:12.0pt;
font-family:Consolas;color:#F280D0'>MQTT_TOPIC</span><span style='font-size:
12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span style='font-size:
12.0pt;font-family:Consolas;color:#2277FF'>payload</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>MQTT_DATA</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>qos</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>0</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>retain</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>False</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>, </span><i><span
style='font-size:12.0pt;font-family:Consolas;color:#2277FF'>properties</span></i><span
style='font-size:12.0pt;font-family:Consolas;color:#225588'>=</span><span
style='font-size:12.0pt;font-family:Consolas;color:#F280D0'>None</span><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; </span><u><span style='font-size:12.0pt;font-family:
Consolas;color:#FFEEBB'>time</span></u><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>.</span><span style='font-size:12.0pt;
font-family:Consolas;color:#DDBB88'>sleep</span><span style='font-size:12.0pt;
font-family:Consolas;color:#6688CC'>(interval)</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:12.0pt;font-family:Consolas;
color:#225588'>except</span><span style='font-size:12.0pt;font-family:Consolas;
color:#6688CC'> </span><u><span style='font-size:12.0pt;font-family:Consolas;
color:#FFEEBB'>OSError</span></u><span style='font-size:12.0pt;font-family:
Consolas;color:#6688CC'>:</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:16.5pt;background:#000C18'><span
style='font-size:12.0pt;font-family:Consolas;color:#6688CC'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; client.</span><span style='font-size:12.0pt;
font-family:Consolas;color:#DDBB88'>reconnect</span><span style='font-size:
12.0pt;font-family:Consolas;color:#6688CC'>()</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc162477374"><b><span style='font-size:26.0pt;line-height:107%;
color:#E97132'>APPENDICES</span></b></a></h1>

<h3><a name="_Toc162477375">Project Code: </a><span style='color:black'>https://github.com/nsyed78/indi-project</span></h3>

<h3><a name="_Toc162477376">Youtube Video:</a> �</h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc162477377"><b><span style='font-size:26.0pt;line-height:107%;
color:#E97132'>SELF EVALUATION</span></b></a></h1>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=177 valign=top style='width:133.1pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><b><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>Item</span></b></p>
  </td>
  <td width=45 valign=top style='width:33.65pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><b><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>Max</span></b></p>
  </td>
  <td width=82 valign=top style='width:61.4pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><b><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>My score</span></b></p>
  </td>
  <td width=300 valign=top style='width:224.95pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><b><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>Motivation</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=177 valign=top style='width:133.1pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>Data on
  terminal</span></p>
  </td>
  <td width=45 valign=top style='width:33.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
  line-height:normal'><span style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>2</span></p>
  </td>
  <td width=82 valign=top style='width:61.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
  line-height:normal'><span style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>2</span></p>
  </td>
  <td width=300 valign=top style='width:224.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=177 valign=top style='width:133.1pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>Data on
  dashboard</span></p>
  </td>
  <td width=45 valign=top style='width:33.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
  line-height:normal'><span style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>4</span></p>
  </td>
  <td width=82 valign=top style='width:61.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
  line-height:normal'><span style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>4</span></p>
  </td>
  <td width=300 valign=top style='width:224.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=177 valign=top style='width:133.1pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>Set goals</span></p>
  </td>
  <td width=45 valign=top style='width:33.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
  line-height:normal'><span style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>2</span></p>
  </td>
  <td width=82 valign=top style='width:61.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
  line-height:normal'><span style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>2</span></p>
  </td>
  <td width=300 valign=top style='width:224.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=177 valign=top style='width:133.1pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>Control light</span></p>
  </td>
  <td width=45 valign=top style='width:33.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
  line-height:normal'><span style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>4</span></p>
  </td>
  <td width=82 valign=top style='width:61.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
  line-height:normal'><span style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>4</span></p>
  </td>
  <td width=300 valign=top style='width:224.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=177 valign=top style='width:133.1pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>Control
  temperature</span></p>
  </td>
  <td width=45 valign=top style='width:33.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
  line-height:normal'><span style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>4</span></p>
  </td>
  <td width=82 valign=top style='width:61.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
  line-height:normal'><span style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>4</span></p>
  </td>
  <td width=300 valign=top style='width:224.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=177 valign=top style='width:133.1pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>Close the
  loop</span></p>
  </td>
  <td width=45 valign=top style='width:33.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
  line-height:normal'><span style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>4</span></p>
  </td>
  <td width=82 valign=top style='width:61.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
  line-height:normal'><span style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>4</span></p>
  </td>
  <td width=300 valign=top style='width:224.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width=177 valign=top style='width:133.1pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><b><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>Total</span></b></p>
  </td>
  <td width=45 valign=top style='width:33.65pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
  line-height:normal'><b><span style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>20</span></b></p>
  </td>
  <td width=82 valign=top style='width:61.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
  line-height:normal'><b><span style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>20</span></b></p>
  </td>
  <td width=300 valign=top style='width:224.95pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:normal'><b><span
  style='font-size:10.0pt;font-family:"Aptos Display",sans-serif'>&nbsp;</span></b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

</div>

</body>

</html>
